<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>ğŸŒ GSA Prompt Launcher</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
Â  Â  <style>
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary-color: #00c6ff;
Â  Â  Â  Â  Â  Â  --secondary-color: #0072ff;
Â  Â  Â  Â  Â  Â  --dark-bg: #0f172a;
Â  Â  Â  Â  Â  Â  --card-bg: rgba(30, 41, 59, 0.8);
Â  Â  Â  Â  Â  Â  --light-text: #e0e0e0;
Â  Â  Â  Â  Â  Â  --hover-color: #334155;
Â  Â  Â  Â  Â  Â  --warning-bg: #ffc107;
Â  Â  Â  Â  Â  Â  --warning-color: #333;
Â  Â  Â  Â  Â  Â  --success-bg: #28a745;
Â  Â  Â  Â  Â  Â  --success-color: #fff;
Â  Â  Â  Â  }

Â  Â  Â  Â  * {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #0f172a, #1e293b);
Â  Â  Â  Â  Â  Â  color: var(--light-text);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: flex-start;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  padding: 40px 20px;
Â  Â  Â  Â  }

Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  font-size: 3em;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  text-shadow: 0 0 10px rgba(0, 198, 255, 0.5);
Â  Â  Â  Â  Â  Â  animation: fadeInDown 1s ease forwards;
Â  Â  Â  Â  }

Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  background: var(--card-bg);
Â  Â  Â  Â  Â  Â  padding: 40px;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 700px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(10px);
Â  Â  Â  Â  Â  Â  animation: fadeIn 1s ease forwards;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .button-container {
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  margin: 20px 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  .launch-btn {
Â  Â  Â  Â  Â  Â  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 50px;
Â  Â  Â  Â  Â  Â  padding: 20px 50px;
Â  Â  Â  Â  Â  Â  color: var(--dark-bg);
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 20px rgba(0, 198, 255, 0.4);
Â  Â  Â  Â  Â  Â  white-space: nowrap;
Â  Â  Â  Â  }

Â  Â  Â  Â  .launch-btn:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  transform: translateY(-5px) scale(1.05);
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 30px rgba(0, 198, 255, 0.6);
Â  Â  Â  Â  }

Â  Â  Â  Â  .launch-btn:disabled {
Â  Â  Â  Â  Â  Â  background: #555;
Â  Â  Â  Â  Â  Â  color: #999;
Â  Â  Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  Â  Â  box-shadow: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  .launch-btn .spinner {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  animation: spin 1s linear infinite;
Â  Â  Â  Â  }

Â  Â  Â  Â  .launch-btn.loading .spinner { display: inline-block; }
Â  Â  Â  Â  .launch-btn.loading .btn-text, .launch-btn.loading .btn-icon { display: none; }


Â  Â  Â  Â  .tooltip {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -50px;
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translateX(-50%);
Â  Â  Â  Â  Â  Â  background: var(--secondary-color);
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  padding: 10px 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-size: 0.9em;
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  pointer-events: none;
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s ease;
Â  Â  Â  Â  Â  Â  white-space: nowrap;
Â  Â  Â  Â  }

Â  Â  Â  Â  .button-container:hover .tooltip {
Â  Â  Â  Â  Â  Â  opacity: 1;
Â  Â  Â  Â  }

Â  Â  Â  Â  #status-message {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  margin-top: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
Â  Â  Â  Â  Â  Â  animation: bounceIn 0.5s ease forwards;
Â  Â  Â  Â  }

Â  Â  Â  Â  #status-message.warning {
Â  Â  Â  Â  Â  Â  background: var(--warning-bg);
Â  Â  Â  Â  Â  Â  color: var(--warning-color);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #status-message.success {
Â  Â  Â  Â  Â  Â  background: var(--success-bg);
Â  Â  Â  Â  Â  Â  color: var(--success-color);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .recheck-btn {
Â  Â  Â  Â  Â  Â  background: #333;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  padding: 8px 15px;
Â  Â  Â  Â  Â  Â  margin: 15px auto 0;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background 0.2s;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }

Â  Â  Â  Â  .recheck-btn:hover { background: #444; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* --- NEW STYLES for POP-UP HELP --- */
Â  Â  Â  Â  .popup-help-container {
Â  Â  Â  Â  Â  Â  margin-top: 25px;
Â  Â  Â  Â  Â  Â  padding-top: 20px;
Â  Â  Â  Â  Â  Â  border-top: 1px solid rgba(51, 65, 85, 0.7);
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-title {
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  color: #444;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-tabs {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-tab-btn {
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(0,0,0,0.2);
Â  Â  Â  Â  Â  Â  color: var(--warning-color);
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif;
Â  Â  Â  Â  Â  Â  transition: all 0.2s ease;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-tab-btn:hover {
Â  Â  Â  Â  Â  Â  background: rgba(0,0,0,0.2);
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-tab-btn.active {
Â  Â  Â  Â  Â  Â  background: var(--dark-bg);
Â  Â  Â  Â  Â  Â  color: var(--primary-color);
Â  Â  Â  Â  Â  Â  border-color: var(--dark-bg);
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-content {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  background: rgba(0, 0, 0, 0.05);
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  color: #333;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-content.active {
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  animation: fadeIn 0.4s ease;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-content ol {
Â  Â  Â  Â  Â  Â  padding-left: 25px;
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-content li {
Â  Â  Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  Â  Â  line-height: 1.6;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-content i {
Â  Â  Â  Â  Â  Â  color: var(--secondary-color);
Â  Â  Â  Â  Â  Â  width: 20px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .help-content strong {
Â  Â  Â  Â  Â  Â  color: #000;
Â  Â  Â  Â  }
Â  Â  Â  Â  /* --- END NEW STYLES --- */

Â  Â  Â  Â  #fallback-links {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  margin-top: 25px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .fallback-links-list {
Â  Â  Â  Â  Â  Â  list-style: none;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .fallback-links-list li {
Â  Â  Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  Â  }

Â  Â  Â  Â  .fallback-links-list a {
Â  Â  Â  Â  Â  Â  color: var(--primary-color);
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  Â  Â  background: var(--hover-color);
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  transition: background 0.3s ease;
Â  Â  Â  Â  }

Â  Â  Â  Â  .fallback-links-list a:hover {
Â  Â  Â  Â  Â  Â  background: var(--secondary-color);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  }


Â  Â  Â  Â  @keyframes spin { to { transform: rotate(360deg); } }
Â  Â  Â  Â  @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
Â  Â  Â  Â  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
Â  Â  Â  Â  @keyframes bounceIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }

Â  Â  Â  Â  @media (max-width: 600px) {
Â  Â  Â  Â  Â  Â  h1 { font-size: 2em; }
Â  Â  Â  Â  Â  Â  .launch-btn { width: 100%; font-size: 1.3em; padding: 18px; }
Â  Â  Â  Â  Â  Â  .container { padding: 25px; }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

<main class="container">
Â  Â  <h1><i class="fa-solid fa-rocket"></i> GSA Prompt Launcher</h1>

Â  Â  <div class="button-container">
Â  Â  Â  Â  <div class="tooltip">Pop-ups must be enabled to open all prompts</div>
Â  Â  Â  Â  <button class="launch-btn" id="launchBtn">
Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-bolt-lightning btn-icon"></i>
Â  Â  Â  Â  Â  Â  <span class="btn-text">Launch All Prompts</span>
Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-spinner spinner"></i>
Â  Â  Â  Â  </button>
Â  Â  </div>

Â  Â  <div id="status-message" role="alert"></div>
Â  Â  <div id="fallback-links"></div>
</main>

<script>
document.addEventListener('DOMContentLoaded', () => {
Â  Â  // --- Configuration ---
Â  Â  const PROMPT_LINKS = [
Â  Â  Â  Â  "https://aiskillshouse.com/student/qr-mediator.html?uid=2307&promptId=18&v=2",
Â  Â  Â  Â  "https://aiskillshouse.com/student/qr-mediator.html?uid=2307&promptId=19&v=2",
Â  Â  Â  Â  "https://aiskillshouse.com/student/qr-mediator.html?uid=2307&promptId=20&v=2",
Â  Â  Â  Â  "https://aiskillshouse.com/student/qr-mediator.html?uid=2307&promptId=21&v=2",
Â  Â  Â  Â  "https://aiskillshouse.com/student/qr-mediator.html?uid=2307&promptId=22&v=2"
Â  Â  ];
Â  Â  const LAUNCH_DELAY_MS = 300; // A slight delay can help avoid aggressive browser blocking

Â  Â  // --- UI Elements ---
Â  Â  const launchBtn = document.getElementById('launchBtn');
Â  Â  const statusMessage = document.getElementById('status-message');
Â  Â  const fallbackLinksContainer = document.getElementById('fallback-links');

Â  Â  // --- Core Functions ---

Â  Â  /**
Â  Â  Â * Checks if pop-ups are enabled by attempting to open and close a small window.
Â  Â  Â * @returns {boolean} - True if pop-ups are likely allowed, false otherwise.
Â  Â  Â */
Â  Â  function checkPopupPermissions() {
Â  Â  Â  Â  const testWindow = window.open('about:blank', '_blank', 'width=1,height=1,left=9999,top=9999');
Â  Â  Â  Â  if (!testWindow || testWindow.closed || typeof testWindow.closed === 'undefined') {
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  }
Â  Â  Â  Â  testWindow.close();
Â  Â  Â  Â  return true;
Â  Â  }

Â  Â  /**
Â  Â  Â * Updates the UI based on the pop-up permission status.
Â  Â  Â * @param {boolean} arePopupsAllowed - The status of pop-up permissions.
Â  Â  Â */
Â  Â  function updateUiForPermissions(arePopupsAllowed) {
Â  Â  Â  Â  statusMessage.style.display = 'none';
Â  Â  Â  Â  statusMessage.innerHTML = '';
Â  Â  Â  Â  fallbackLinksContainer.innerHTML = '';

Â  Â  Â  Â  if (arePopupsAllowed) {
Â  Â  Â  Â  Â  Â  launchBtn.disabled = false;
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  launchBtn.disabled = true;
Â  Â  Â  Â  Â  Â  statusMessage.className = 'warning';
Â  Â  Â  Â  Â  Â  statusMessage.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-triangle-exclamation"></i> <strong>Pop-ups Blocked!</strong><br>
Â  Â  Â  Â  Â  Â  Â  Â  To launch all prompts automatically, you need to allow pop-ups for this site.
Â  Â  Â  Â  Â  Â  Â  Â  <button class="recheck-btn">Re-check Permissions</button>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="popup-help-container">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="help-title">How to enable pop-ups?</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="help-tabs">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="help-tab-btn active" data-target="help-desktop"><i class="fa-solid fa-laptop"></i> Desktop / Mac</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="help-tab-btn" data-target="help-android"><i class="fa-brands fa-android"></i> Android</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="help-tab-btn" data-target="help-iphone"><i class="fa-brands fa-apple"></i> iPhone</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="help-content active" id="help-desktop">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>On <strong>Chrome, Firefox, Edge, or Safari</strong>, after a pop-up is blocked, an icon usually appears in the right side of the address bar.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-top:10px;">Click the icon and choose to <strong>"Always allow pop-ups and redirects"</strong> from this website, then try launching again.</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="help-content" id="help-android">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>For Chrome on Android:</strong></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <ol>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>Tap the three-dot menu <i class="fa-solid fa-ellipsis-v"></i> in the top-right.</li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>Go to <strong>Settings</strong> &rarr; <strong>Site settings</strong> &rarr; <strong>Pop-ups and redirects</strong>.</li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>Make sure the toggle is set to <strong>Allowed</strong>.</li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </ol>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="help-content" id="help-iphone">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>For Safari on iPhone/iPad:</strong></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <ol>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>Open the <strong>Settings</strong> app on your device.</li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>Scroll down and tap on <strong>Safari</strong>.</li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <li>Under the "GENERAL" section, find <strong>Block Pop-ups</strong> and turn the switch <strong>OFF</strong>.</li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </ol>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  statusMessage.style.display = 'block';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  /**
Â  Â  Â * Creates a list of clickable links as a fallback if pop-ups fail.
Â  Â  Â * @param {string[]} links - Array of URLs to display.
Â  Â  Â */
Â  Â  function generateFallbackLinks(links) {
Â  Â  Â  Â  fallbackLinksContainer.innerHTML = `
Â  Â  Â  Â  Â  Â  <p>You can open the prompts manually:</p>
Â  Â  Â  Â  Â  Â  <ul class="fallback-links-list">
Â  Â  Â  Â  Â  Â  Â  Â  ${links.map((link, i) => `<li><a href="${link}" target="_blank" rel="noopener noreferrer">Open Prompt ${i + 1}</a></li>`).join('')}
Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  `;
Â  Â  }

Â  Â  /**
Â  Â  Â * Handles the main logic of launching all prompt windows.
Â  Â  Â */
Â  Â  function handleLaunch() {
Â  Â  Â  Â  if (!checkPopupPermissions()) {
Â  Â  Â  Â  Â  Â  updateUiForPermissions(false);
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  launchBtn.classList.add('loading');
Â  Â  Â  Â  launchBtn.disabled = true;

Â  Â  Â  Â  let openedCount = 0;
Â  Â  Â  Â  const totalLinks = PROMPT_LINKS.length;

Â  Â  Â  Â  PROMPT_LINKS.forEach((url, i) => {
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  const newWindow = window.open(url, '_blank');
Â  Â  Â  Â  Â  Â  Â  Â  if (newWindow) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  openedCount++;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // After the last attempt, update the UI
Â  Â  Â  Â  Â  Â  Â  Â  if (i === totalLinks - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  launchBtn.classList.remove('loading');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateUiForPermissions(true); // Re-enable the button

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (openedCount === totalLinks) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusMessage.className = 'success';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusMessage.innerHTML = `<i class="fa-solid fa-check-circle"></i> Successfully launched all ${totalLinks} prompts!`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusMessage.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusMessage.className = 'warning';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusMessage.innerHTML = `<i class="fa-solid fa-triangle-exclamation"></i> Launched ${openedCount} of ${totalLinks} prompts. Your browser may have blocked the rest.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusMessage.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  generateFallbackLinks(PROMPT_LINKS);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }, i * LAUNCH_DELAY_MS);
Â  Â  Â  Â  });
Â  Â  }

Â  Â  // --- Event Delegation for Dynamic Content ---
Â  Â  statusMessage.addEventListener('click', (e) => {
Â  Â  Â  Â  // Handle recheck button click
Â  Â  Â  Â  if (e.target.closest('.recheck-btn')) {
Â  Â  Â  Â  Â  Â  updateUiForPermissions(checkPopupPermissions());
Â  Â  Â  Â  }

Â  Â  Â  Â  // Handle help tabs click
Â  Â  Â  Â  const tab = e.target.closest('.help-tab-btn');
Â  Â  Â  Â  if (tab) {
Â  Â  Â  Â  Â  Â  const targetId = tab.dataset.target;
Â  Â  Â  Â  Â  Â  const helpContainer = tab.closest('.popup-help-container');
Â  Â  Â  Â  Â  Â  if (!helpContainer) return;

Â  Â  Â  Â  Â  Â  // Deactivate all tabs and content panels
Â  Â  Â  Â  Â  Â  helpContainer.querySelectorAll('.help-tab-btn').forEach(btn => btn.classList.remove('active'));
Â  Â  Â  Â  Â  Â  helpContainer.querySelectorAll('.help-content').forEach(content => content.classList.remove('active'));

Â  Â  Â  Â  Â  Â  // Activate the clicked tab and corresponding content panel
Â  Â  Â  Â  Â  Â  tab.classList.add('active');
Â  Â  Â  Â  Â  Â  helpContainer.querySelector(`#${targetId}`).classList.add('active');
Â  Â  Â  Â  }
Â  Â  });

Â  Â  // --- Initialization ---
Â  Â  launchBtn.addEventListener('click', handleLaunch);
Â  Â  // Perform initial check on page load
Â  Â  updateUiForPermissions(checkPopupPermissions());
});
</script>
</body>
</html>
